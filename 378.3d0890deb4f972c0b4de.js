"use strict";(self.webpackChunkUlbiTV_frontend=self.webpackChunkUlbiTV_frontend||[]).push([[378],{11:function(e,t,a){a.d(t,{I:function(){return c}});var n=a(7294),r=a(3007),l={inputWrapper:"yiPASP1v",placeholder:"emAQQ85i",input:"LVdIPwcx",caretWrapper:"y1GiFC_L",caret:"lqMFGBuL",blink:"M7n8faAU",readonly:"fTN1PnWu"},s=a(5893);const c=(0,n.memo)((e=>{let{className:t,value:a="",onChange:c,type:o="text",placeholder:u,autoFocus:d,readonly:i,...p}=e;const[m,h]=(0,n.useState)(!1),[x,f]=(0,n.useState)(0),v=m&&!i,g=(0,n.useRef)(null);(0,n.useEffect)((()=>{d&&(h(!0),g.current?.focus())}),[d]);const C={[l.redonly]:i};return(0,s.jsxs)("div",{className:(0,r.A)(l.inputWrapper,C,[t]),children:[u&&(0,s.jsx)("div",{className:l.placeholder,children:`${u}>`}),(0,s.jsxs)("div",{className:l.caretWrapper,children:[(0,s.jsx)("input",{type:o,value:a,onChange:e=>{if(a?.toString().length>e?.target?.value?.length)return c?.(e.target.value),void f(e?.target?.selectionStart||0);c?.(e.target.value),f(e.target.value.length)},className:l.input,onFocus:()=>{h(!0)},onBlur:()=>{h(!1)},onSelect:e=>{f(e?.target?.selectionStart||0)},ref:g,readOnly:i,...p}),v&&(0,s.jsx)("span",{className:l.caret,style:{left:9*x+"px"}})]})]})}))},2378:function(e,t,a){a.r(t),a.d(t,{default:function(){return g}});var n=a(3007),r=a(11),l=a(5443),s=a(9499);const c=e=>e?.addCommentForm?.text??"";var o=a(1992),u=a(7294),d=a(5401);const i=(0,a(4268).oM)({name:"addCommentForm",initialState:{text:""},reducers:{setText:(e,t)=>{e.text=t.payload}},extraReducers:e=>{}}),{actions:p}=i,{reducer:m}=i;var h=a(1233),x=a(9457),f=a(5893);const v={addCommentForm:m};var g=e=>{let{className:t,onSendComment:a}=e;const{t:i}=(0,l.$)(),m=(0,o.v9)(c),g=(0,d.T)(),C=(0,u.useCallback)((e=>{g(p.setText(e))}),[g]),b=(0,u.useCallback)((()=>{a(m||""),C("")}),[C,a,m]);return(0,f.jsx)(h.W,{reducers:v,children:(0,f.jsxs)(x.U,{justify:"between",gap:"8",max:!0,className:(0,n.A)("OOXbzbnZ",{},[t]),children:[(0,f.jsx)(r.I,{placeholder:i("Введите текст комментария"),value:m,onChange:C}),(0,f.jsx)(s.zx,{theme:s.bn.OUTLINE,onClick:b,children:i("Отправить")})]})})}}}]);